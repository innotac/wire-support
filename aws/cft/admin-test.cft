{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Resources": {
    "ADMINTEST": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "DisableApiTermination": "true",
        "ImageId": "ami-0596162a6887bd8d0",
        "InstanceType": "t3.large",
        "KeyName": "innotac-wire",
        "Monitoring": "true",
        "Tags": [
          {
            "Key": "Name",
            "Value": "admintest"
          },
          {
            "Key": "FQDN",
            "Value": "admintest.wire-innotac.com"
          }
        ],
        "NetworkInterfaces": [
          {
            "AssociatePublicIpAddress": "false",
            "DeleteOnTermination": "true",
            "Description": "Primary network interface",
            "DeviceIndex": 0,
            "SubnetId": "subnet-c9e667e2",
             "GroupSet": [
               "sg-094cdacaee5139607"
             ]
           }
         ],
         "BlockDeviceMappings": [
           {
             "DeviceName": "/dev/sda1",
              "Ebs": {
                "VolumeType": "gp2",
                "VolumeSize": "40",
                "DeleteOnTermination":"true",
                "Encrypted": "true"
              }
            }
          ],
          "UserData" : { "Fn::Base64" : { "Fn::Join" : [ ",", [
            "#!/bin/bash -v\n",
            "sudo hostnamectl set-hostname admintest.wire.innotac.com\n",
            "sudo groupadd wire\n",
            "sudo adduser wire\n",
            "echo 'Hello World'" ]]}}
      }
    }
  }
}
